For this lab we had to run ESXi from dual boot because Microsoft's Hyper-V would not allow virtualization of ESXi without turning of memory protection.

As a work around we are dual-booting from our machine and will load ESXi onto an internal hard-drive picked up the day before. 

We used Ventoy that had ESXi installed but when we finished installing, ESXi did not detect a network card. We had to find a way to get ESXi to recognize our ethernet card (RealTek PCIe GbE Family Controller) so we had to build a customized script that allowed us to inject our ethernet card into the default iso. 
So hopefully, the next install, it will recognize the ehternet card and we will be good to go.

From Reddit it looks like the flings.vmware file needed to make the customizable file was removed during the acquisition of VMWare by Broadcom. Fortunately, there were some links provided to the archival site with the .zip file

Website: 
https://archive.org/download/flings.vmware.com/Flings/Community%20Networking%20Driver%20for%20ESXi/

File:
###Net-Community-Driver_1.2.7.0-1vmw.700.1.0.15843807_19480755.zip

From ChatGPT
Problem: 

Since your installer already failed to detect the NIC, once you have the ZIP I can write you a ready-to-run PowerCLI script that:

Imports the stock ESXi ISO
Injects the Realtek driver
Exports a new Custom-ESXi.iso

Create a folder:
So your folder should look like:
VMware-ESXi-8.0.0.iso (the stock installer ISO)
net-community-driver-xxxxxx.zip (the driver bundle, untouched)

## Next Step

If you’re ready, I’ll give you a PowerCLI script that:

Imports the ESXi ISO.
Imports the driver ZIP.
Creates a new image profile.
Injects the driver.
Exports a new Custom-ESXi.iso.

How to Get PowerCLI
Open Windows PowerShell as Administrator.
Run:

Install-Module -Name VMware.PowerCLI -Scope CurrentUser

If it asks about NuGet provider or trusting the repository, type Y and press Enter.

This installs the PowerCLI cmdlets you’ll use:

Add-EsxSoftwareDepot
New-EsxImageProfile
Add-EsxSoftwarePackage
Export-EsxImageProfile

After installation, type:

Get-Module -ListAvailable VMware.PowerCLI

We got an execution policy error:
By default, Windows blocks running certain scripts (like PowerCLI modules) unless you relax the execution policy.
Set-ExecutionPolicy RemoteSigned -Scope CurrentUser

Import-Module VMware.ImageBuilder

## Code to custom build ESXi ISO Script
 *We got an error that ImageBuilder modules relies on Python so we need to install and register it with PowerCLI*
Download from python.org
Choose a version between 3.7.1 and 3.12 (I recommend 3.10.x for stability).
During install, check ✅ “Add Python to PATH”.
Install with Admin privileges


tell PowerCLI where to find it:
Set-PowerCLIConfiguration -Scope User -PythonPath "C:\Users\jonat\AppData\Local\Programs\Python\Python311\python.exe" -Confirm:$false



















